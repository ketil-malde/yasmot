# YASMOT: Yet Another Stereo Image Multi-Object Tracker

This is a program that parses the output from a typical object
detector (Yolo and RetinaNet are supported) applied to video or a
series of still images, and tracks the objects over time.

The usage is probably best illustrated by the test cases or the help
text generated by `yasmot --help`.

## Tracking

As usual, tracking consists of defining a distance measure between
object detection bounding boxes, and then using the Hungarian
algorithm to find the best pairing.

The input is either one or more directories of individual frame
annotations (as produced by YOLO), or one or more CSV-files with a
table of annotations (as produced by e.g. RetinaNet).

Output is a list of tracks (i.e. the set of detections for each
object), with a summary of the class detections for each track.  Then
follows a list of frames with the object detections labeled with
track ID, which may be redirected to a file with `-o`.

## Interpolation

Missing detections can be interpolated by specifying the
`--interpolate` option, the interpolated (inferred) detections will
have a probability of 0.0000.

## Stereo images

The `-s` option links objects taken with a stereoscopic camera setup.
Normally tracks will be generated, but the `--no-track` option can be
specified to only link detections between the cameras, and not in time.

## Using pixel-based coordinates

YOLO outputs image coordinates as fractional images, i.e. values range
from 0 to 1.  Some object detectors (including RetinaNet) outputs a
CSV file with pixel-based coordinates.  Since yasmot may not have the
images available, you therefore need to specify the pixel size of the
images, e.g. as `--shape 1228,1027`.

## Consensus predictions

If you run multiple object detectors, it may be useful to combine the
outputs into a consensus set of predictions.  This can be achieved
by specifying the `-c` option.  Again you can use `--no-track` if you
just want the frame-by-frame consensus and not perform tracking as
well.

## Usage examples


ed53fccebf70e9b200b48e94343e5bd14290fc31 python3 src/yasmot/main.py -s --no-track --shape 1228,1027 tests/stereo1_Left.csv tests/stereo1_Right.csv
a3aae3bacbfbd418d243f0a7e09bf92dae9eab9a python3 src/yasmot/main.py -s --shape 1228,1027 tests/stereo1_Left.csv tests/stereo1_Right.csv
1e856023ea79bc61decdb9499bb4f1e207b775eb python3 src/yasmot/main.py tests/lab2
8c48b6ece4db0ea5d6925954e95214cf89fbaf22 python3 src/yasmot/main.py --max_age 2 --time_pattern frame_\{:d\}.txt tests/lab2
2a14b4639ce0f30a3b6ab6b6f3084ed2cb8f455a python3 src/yasmot/main.py tests/error3.csv
b7213abfdb7352c52975d2eeef9e28ace19927ec python3 src/yasmot/main.py tests/lab2 --interpolate
64f0161579349b6e7a431e8aab69807bf18e7a18 python3 src/yasmot/main.py -c tests/consensus/y8x*
